{% extends 'dashboard_admin.html' %}

{% load static %}
{% load widget_tweaks %}

{% block content %}
<h1 class="text-3xl font-bold mb-6 text-primary">Registrar Préstamo</h1>

<form method="post" class="bg-white p-8 rounded-lg shadow-md max-w-lg mx-auto">
    {% csrf_token %}
    <!-- Mostrar errores generales del formulario -->
    {% if form.non_field_errors %}
        <div class="mb-4">
            <ul class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    <!-- Campo: Usuario -->
    <div class="mb-5">
        <label for="{{ form.usuario.id_for_label }}" class="block text-gray-700 font-semibold mb-2">
            {{ form.usuario.label }}
        </label>
        {% render_field form.usuario class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" %}
        {% if form.usuario.errors %}
            <p class="text-red-500 text-sm mt-1">
                {{ form.usuario.errors.as_text|cut:"* " }}
            </p>
        {% endif %}
    </div>
    <!-- Campo: Material -->
    <div class="mb-5">
        <label for="{{ form.material.id_for_label }}" class="block text-gray-700 font-semibold mb-2">
            {{ form.material.label }}
        </label>
        {% render_field form.material class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" %}
        {% if form.material.errors %}
            <p class="text-red-500 text-sm mt-1">
                {{ form.material.errors.as_text|cut:"* " }}
            </p>
        {% endif %}
    </div>
    <!-- Botón de envío -->
    <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded w-full">
        Registrar Préstamo
    </button>
</form>
{% endblock %}